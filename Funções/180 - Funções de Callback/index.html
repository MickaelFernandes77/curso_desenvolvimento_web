<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Funções - Funções de CallBack</title>
    <script>

    // função de callback: são funções, que são encaminhadas como parâmetros para outras funções.
    // o objetivo é que após a finalização da função, ter condições de chamar a função que foi encaminhada como parametro(que seria a func de callback).
    function exibirArtigo(id, callbackSucesso, callbackErro){
            // logica: imagine que executamos uma lógica que recupera o id do artigo via requisição http.
            if(false){
                // se a lógica tiver sucesso, chama a função de callback de sucesso
                // uso da função de callbackSucesso, que recebe o titulo e a descricao
                callbackSucesso('Funções de callback em JS', 'Funções de Callback são muito utilizadas')
            }else{
                // se a lógica tiver erro, chama a função de callback de erro
                // usa da função de callbackErro, que recebe a mensagem de erro.
                callbackErro('Erro ao recuperar os dados')
            }
    }

    var callbackSucesso = function(titulo, descricao){
        document.write('<h1>' + titulo + '<h1> <br>');
        document.write('<p>' + descricao + '<p>');
    }

    var callbackErro = function(erro){
        document.write('<p> Erro: ' + erro + '</p>');
    }


                    // estamos encaminhando a referência da função, por meio das variáveis.
                    // e não estamos usando (). pois se usassemos, chamariamos a função imediatamente,
    exibirArtigo(1, callbackSucesso, callbackErro);
    </script>
</head>

<body>

</body>

</html>